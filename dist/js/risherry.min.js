!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(){function a(){g=self.innerWidth-15,h=self.innerHeight,l={x:0,y:h},i=document.getElementById("animation"),i.width=g,i.height=h,j=i.getContext("2d"),k=[];for(var a=0;.5*g>a;a++){var b=new f;k.push(b)}e()}function b(){window.addEventListener("scroll",c),window.addEventListener("resize",d)}function c(){m=document.body.scrollTop>h?!1:!0}function d(){g=self.innerWidth-15,h=self.innerHeight,i.width=g,i.height=h}function e(){if(m){j.clearRect(0,0,g,h);for(var a in k)k[a].draw()}requestAnimationFrame(e)}function f(){function a(){b.pos.x=Math.random()*g,b.pos.y=h+100*Math.random(),b.alpha=.1+.3*Math.random(),b.scale=.1+.3*Math.random(),b.velocity=Math.random()}var b=this;!function(){b.pos={},a(),console.log(b)}(),this.draw=function(){b.alpha<=0&&a(),b.pos.y-=b.velocity,b.alpha-=5e-4,j.beginPath(),j.arc(b.pos.x,b.pos.y,10*b.scale,0,2*Math.PI,!1),j.fillStyle="rgba(255,255,255,"+b.alpha+")",j.fill()}}var g,h,i,j,k,l,m=!0;a(),b()}(),function(){function createStructure(config){function renderTemplateFromData(a,b){var c=$(b).html(),d=Handlebars.compile(c),e=d(a);$(b).replaceWith(e)}function renderTemplate(a,b){$.getJSON(a,function(a){renderTemplateFromData(a,b)})}!function(){function a(){var a=JSON.parse(sessionStorage.getItem("behanceProject"));renderTemplateFromData(a,"#portfolio-template")}var b="http://www.behance.net/v2/users/"+config.behanceAPI.userID+"/projects?callback=?&api_key="+config.behanceAPI.apiKey+"&per_page="+config.behanceAPI.perPage;sessionStorage.getItem("behanceProject")?a():$.getJSON(b,function(b){var c=JSON.stringify(b);sessionStorage.setItem("behanceProject",c),a()}),renderTemplate(configData,"#head-template"),renderTemplate(configData,"#heading-template"),renderTemplate(configData,"#analytics-template")}(),function(){var a=config.data.user;renderTemplate(a,"#external-template"),renderTemplate(a,"#about-template"),renderTemplate(a,"#work-template"),renderTemplate(a,"#talks-template"),renderTemplate(a,"#license-template")}(),function(){var a=config.data.themes;renderTemplate(a,"#stylesheet-template"),renderTemplate(a,"#themes-template")}(),Handlebars.registerHelper("idFallback",function(a,b){var c=a[b];return void 0===c&&(c=a.name,c=c.toLowerCase()),c}),Handlebars.registerHelper("ifCond",function(v1,operator,v2,options){switch(operator){case"==":return v1==v2?options.fn(this):options.inverse(this);case"!=":return v1!=v2?options.fn(this):options.inverse(this);case"===":return v1===v2?options.fn(this):options.inverse(this);case"!==":return v1!==v2?options.fn(this):options.inverse(this);case"&&":return v1&&v2?options.fn(this):options.inverse(this);case"||":return v1||v2?options.fn(this):options.inverse(this);case"<":return v2>v1?options.fn(this):options.inverse(this);case"<=":return v2>=v1?options.fn(this):options.inverse(this);case">":return v1>v2?options.fn(this):options.inverse(this);case">=":return v1>=v2?options.fn(this):options.inverse(this);default:return eval(""+v1+operator+v2)?options.fn(this):options.inverse(this)}}),Handlebars.registerPartial("talkTemplate",$("#talk-template").html())}var configData="src/data/config.json";$.getJSON(configData,function(a){createStructure(a)})}();